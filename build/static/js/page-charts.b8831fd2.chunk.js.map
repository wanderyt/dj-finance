{"version":3,"sources":["page/activities-data.js","page/charts/index.js","page/charts/helper.js"],"names":["__webpack_exports__","id","name","date","amount","type","details","total","number","price","items","HighChartTab","prop","options","activities","chart","title","text","plotOptions","pie","dataLabels","enabled","format","distance","filter","property","operator","value","showInLegend","seriesData","left","forEach","_ref","push","y","drilldown","series","colorByPoint","data","buildOptions","ACTIVITIES","react_default","a","createElement","className","highcharts_react_min_default","highcharts","Highcharts"],"mappings":"yFAAeA,EAAA,GAAC,CACdC,GAAM,EACNC,KAAQ,eACRC,KAAQ,aACRC,OAAU,KACVC,KAAQ,EACRC,QAAW,CACTC,MAAS,KACTC,OAAU,GACVC,MAAS,MAEV,CACDR,GAAM,EACNC,KAAQ,eACRC,KAAQ,aACRC,OAAU,KACVC,KAAQ,EACRC,QAAW,CACTC,MAAS,KACTG,MAAS,CAAC,CACRR,KAAQ,eACRM,OAAU,GACVC,MAAS,OAGZ,CACDR,GAAM,EACNC,KAAQ,iCACRC,KAAQ,aACRC,OAAU,MACVC,KAAQ,EACRC,QAAW,CACTC,MAAS,MACTG,MAAS,CAAC,CACRR,KAAQ,iCACRM,OAAU,EACVC,MAAS,KACR,CACDP,KAAQ,qBACRM,OAAU,EACVC,MAAS,MACR,CACDP,KAAQ,qBACRM,OAAU,EACVC,MAAS,MACR,CACDP,KAAQ,6CACRM,OAAU,EACVC,MAAS,KACR,CACDP,KAAQ,qBACRM,OAAU,EACVC,MAAS,OACR,CACDP,KAAQ,qBACRM,OAAU,EACVC,MAAS,OACR,CACDP,KAAQ,eACRM,OAAU,EACVC,MAAS,KACR,CACDP,KAAQ,qBACRM,OAAU,EACVC,MAAS,MACR,CACDP,KAAQ,2BACRM,OAAU,EACVC,MAAS,IACR,CACDP,KAAQ,eACRM,OAAU,EACVC,MAAS,MACR,CACDP,KAAQ,eACRM,OAAU,EACVC,MAAS,SAGZ,CACDR,GAAM,EACNC,KAAQ,2BACRC,KAAQ,aACRC,OAAU,KACVC,KAAQ,EACRC,QAAW,CACTC,MAAS,KACTG,MAAS,CAAC,CACRR,KAAQ,qBACRM,OAAU,EACVC,MAAS,MACR,CACDP,KAAQ,iCACRM,OAAU,EACVC,MAAS,8GChEAE,UAtBM,SAACC,GAWpB,IAAMC,ECnBoB,SAACC,GAC3B,IAAID,EAAU,CACZE,MAAO,CACLV,KAAM,OAERW,MAAO,CACLC,KAAM,0DAERC,YAAa,CACXC,IAAK,CACHC,WAAY,CACVC,SAAS,EACTC,OAAQ,+BACRC,UAAW,GACXC,OAAQ,CACNC,SAAU,aACVC,SAAU,IACVC,MAAO,IAGXC,cAAc,KAKhBC,EAAa,GAAIC,EAAO,EA6B5B,OA5BAhB,EAAWiB,QAAQ,SAAAC,GAAmC,IAAjC9B,EAAiC8B,EAAjC9B,KAAME,EAA2B4B,EAA3B5B,OAAQC,EAAmB2B,EAAnB3B,KAAmB2B,EAAb1B,QAC1B,IAATD,EACFyB,GAAQ1B,EAER0B,GAAQ1B,EAGG,IAATC,GACFwB,EAAWI,KAAK,CACd/B,OACAgC,EAAG9B,EACH+B,UAAWjC,MAKjB2B,EAAWI,KAAK,CACd/B,KAAM,2BACNgC,EAAGJ,EACHK,UAAW,OAGbtB,EAAQuB,OAAS,CAAC,CAChBlC,KAAM,eACNmC,cAAc,EACdC,KAAMT,IAGDhB,EDnCS0B,CAAaC,KAE7B,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAACE,EAAAH,EAAD,CACEI,WAAYC,IACZlC,QAASA","file":"static/js/page-charts.b8831fd2.chunk.js","sourcesContent":["export default [{\n  \"id\": 1,\n  \"name\": \"班费\",\n  \"date\": \"2019-04-06\",\n  \"amount\": 3400,\n  \"type\": 1,\n  \"details\": {\n    \"total\": 3400,\n    \"number\": 34,\n    \"price\": 100\n  }\n}, {\n  \"id\": 2,\n  \"name\": \"班服\",\n  \"date\": \"2019-09-20\",\n  \"amount\": 1870,\n  \"type\": 2,\n  \"details\": {\n    \"total\": 1870,\n    \"items\": [{\n      \"name\": \"班服\",\n      \"number\": 34,\n      \"price\": 55\n    }]\n  }\n}, {\n  \"id\": 3,\n  \"name\": \"集章小礼物\",\n  \"date\": \"2019-11-13\",\n  \"amount\": 257.3,\n  \"type\": 2,\n  \"details\": {\n    \"total\": 257.3,\n    \"items\": [{\n      \"name\": \"多肉营养土\",\n      \"number\": 1,\n      \"price\": 6.2\n    }, {\n      \"name\": \"育苗盆\",\n      \"number\": 1,\n      \"price\": 25.8\n    }, {\n      \"name\": \"种植盆\",\n      \"number\": 2,\n      \"price\": 6.62\n    }, {\n      \"name\": \"一次性纸盘刀叉\",\n      \"number\": 1,\n      \"price\": 9.9\n    }, {\n      \"name\": \"木头片\",\n      \"number\": 1,\n      \"price\": 26.28\n    }, {\n      \"name\": \"海绵球\",\n      \"number\": 1,\n      \"price\": 27.86\n    }, {\n      \"name\": \"量杯\",\n      \"number\": 4,\n      \"price\": 4.7\n    }, {\n      \"name\": \"乒乓球\",\n      \"number\": 1,\n      \"price\": 14.5\n    }, {\n      \"name\": \"手工折纸\",\n      \"number\": 1,\n      \"price\": 34\n    }, {\n      \"name\": \"文具\",\n      \"number\": 1,\n      \"price\": 50.9\n    }, {\n      \"name\": \"铅笔\",\n      \"number\": 2,\n      \"price\": 14.9\n    }]\n  }\n}, {\n  \"id\": 4,\n  \"name\": \"毛衣活动\",\n  \"date\": \"2019-11-25\",\n  \"amount\": 58.2,\n  \"type\": 2,\n  \"details\": {\n    \"total\": 29.2,\n    \"items\": [{\n      \"name\": \"礼品袋\",\n      \"number\": 1,\n      \"price\": 29.2\n    }, {\n      \"name\": \"织围巾的板\",\n      \"number\": 1,\n      \"price\": 29\n    }]\n  }\n}];\n","import React from 'react';\nimport Highcharts from 'highcharts';\nimport HighchartReact from \"highcharts-react-official\";\nimport ACTIVITIES from '../activities-data';\n// import drilldown from 'highcharts-drilldown';\n\nimport {buildOptions} from './helper';\n\nconst HighChartTab = (prop) => {\n\n  // drilldown(Highcharts);\n\n  // // Set drill up button text\n  // Highcharts.setOptions({\n  //   lang: {\n  //     drillUpText: '<< 返回上一级'\n  //   }\n  // });\n\n  const options = buildOptions(ACTIVITIES);\n\n  return (\n    <div className='HighChartTab_Tab'>\n      <HighchartReact\n        highcharts={Highcharts}\n        options={options} />\n    </div>\n  );\n};\n\nexport default HighChartTab;\n","export const buildOptions = (activities) => {\n  let options = {\n    chart: {\n      type: 'pie'\n    },\n    title: {\n      text: '大五班班费使用情况'\n    },\n    plotOptions: {\n      pie: {\n        dataLabels: {\n          enabled: true,\n          format: '<br>{point.percentage:.1f} %',\n          distance: -50,\n          filter: {\n            property: 'percentage',\n            operator: '>',\n            value: 5\n          },\n        },\n        showInLegend: true\n      }\n    },\n  };\n\n  let seriesData = [], left = 0;\n  activities.forEach(({name, amount, type, details}) => {\n    if (type === 1) {\n      left += amount;\n    } else {\n      left -= amount;\n    }\n\n    if (type === 2) {\n      seriesData.push({\n        name,\n        y: amount,\n        drilldown: name\n      });\n    }\n  });\n\n  seriesData.push({\n    name: '剩余班费',\n    y: left,\n    drilldown: null\n  });\n\n  options.series = [{\n    name: '花费',\n    colorByPoint: true,\n    data: seriesData,\n  }];\n\n  return options;\n};"],"sourceRoot":""}