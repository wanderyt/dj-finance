{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","page/activities-data.js","page/activities/util.js","page/activities/activity-tile/activity-details/index.js","page/activities/activity-tile/index.js","page/activities/index.js"],"names":["_slicedToArray","arr","i","Array","isArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","length","err","_iterableToArrayLimit","TypeError","_nonIterableRest","__webpack_require__","d","__webpack_exports__","id","name","date","amount","type","details","total","number","price","items","WeekdayMapping","0","1","2","3","4","5","6","ActivityDetails","_ref","isFloated","formatNumber","parseFloat","toFixed","react_default","a","createElement","className","map","item","ActivityTile","_useState","useState","_useState2","Object","slicedToArray","isExpanded","setIsExpanded","dateString","dateObj","Date","year","getFullYear","month","getMonth","day","getDay","getDate","weekday","concat","formatDate","activity_tile_activity_details","onClick","search","window","location","keyContent","split","some","itemArray","_itemArray","key","keyContentPush","_itemArray2","Activities","_useState3","_useState4","leftAmount","ACTIVITIES","forEach","activities_activity_tile"],"mappings":"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","file":"static/js/page-activities.a481cc35.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","export default [{\n  \"id\": 1,\n  \"name\": \"班费\",\n  \"date\": \"2019-04-06\",\n  \"amount\": 3400,\n  \"type\": 1,\n  \"details\": {\n    \"total\": 3400,\n    \"number\": 34,\n    \"price\": 100\n  }\n}, {\n  \"id\": 2,\n  \"name\": \"班服\",\n  \"date\": \"2019-09-20\",\n  \"amount\": 1870,\n  \"type\": 2,\n  \"details\": {\n    \"total\": 1870,\n    \"items\": [{\n      \"name\": \"班服\",\n      \"number\": 34,\n      \"price\": 55\n    }]\n  }\n}, {\n  \"id\": 3,\n  \"name\": \"集章小礼物\",\n  \"date\": \"2019-11-13\",\n  \"amount\": 257.3,\n  \"type\": 2,\n  \"details\": {\n    \"total\": 257.3,\n    \"items\": [{\n      \"name\": \"多肉营养土\",\n      \"number\": 1,\n      \"price\": 6.2\n    }, {\n      \"name\": \"育苗盆\",\n      \"number\": 1,\n      \"price\": 25.8\n    }, {\n      \"name\": \"种植盆\",\n      \"number\": 2,\n      \"price\": 6.62\n    }, {\n      \"name\": \"一次性纸盘刀叉\",\n      \"number\": 1,\n      \"price\": 9.9\n    }, {\n      \"name\": \"木头片\",\n      \"number\": 1,\n      \"price\": 26.28\n    }, {\n      \"name\": \"海绵球\",\n      \"number\": 1,\n      \"price\": 27.86\n    }, {\n      \"name\": \"量杯\",\n      \"number\": 4,\n      \"price\": 4.7\n    }, {\n      \"name\": \"乒乓球\",\n      \"number\": 1,\n      \"price\": 14.5\n    }, {\n      \"name\": \"手工折纸\",\n      \"number\": 1,\n      \"price\": 34\n    }, {\n      \"name\": \"文具\",\n      \"number\": 1,\n      \"price\": 50.9\n    }, {\n      \"name\": \"铅笔\",\n      \"number\": 2,\n      \"price\": 14.9\n    }]\n  }\n}, {\n  \"id\": 4,\n  \"name\": \"毛衣活动\",\n  \"date\": \"2019-11-25\",\n  \"amount\": 58.2,\n  \"type\": 2,\n  \"details\": {\n    \"total\": 29.2,\n    \"items\": [{\n      \"name\": \"礼品袋\",\n      \"number\": 1,\n      \"price\": 29.2\n    }, {\n      \"name\": \"织围巾的板\",\n      \"number\": 1,\n      \"price\": 29\n    }]\n  }\n}];\n","const WeekdayMapping = {\n  0: '星期日',\n  1: '星期一',\n  2: '星期二',\n  3: '星期三',\n  4: '星期四',\n  5: '星期五',\n  6: '星期六',\n}\n\nconst formatDate = (dateString) => {\n  let dateObj = new Date(dateString);\n  let year = dateObj.getFullYear();\n  let month = dateObj.getMonth();\n  let day = dateObj.getDay();\n  let date = dateObj.getDate();\n  let weekday = WeekdayMapping[day];\n  return `${year}年${month + 1}月${date}日 ${weekday}`;\n};\n\nexport {\n  formatDate\n};\n","import React from 'react';\n\nimport './index.scss';\n\nconst ActivityDetails = ({type, details}) => {\n  const isFloated = details.total % 1 !== 0;\n  const formatNumber = (number) => {\n    if (isFloated) {\n      return parseFloat(number).toFixed(2);\n    } else {\n      return number;\n    }\n  }\n  return (\n    <div className='ActivityDetails'>\n      {\n        type === 2 &&\n        <div className='Activity--Items'>\n          {\n            details.items.map((item) => (\n              <div className='AmountItem'>\n                <div className='AmountName'>{item.name}</div>\n                <div className='Amount'>\n                  {/* {item.number} x {item.price} = {item.number * item.price} */}\n                  {formatNumber(item.number * item.price)}\n                </div>\n              </div>\n            ))\n          }\n          <div className='Activity--Total'>\n            <div className='Activity--TotalAmountCaption'>总计</div>\n            <div className='Activity--TotalAmount'>\n              {formatNumber(details.total)}\n            </div>\n          </div>\n        </div>\n      }\n      {\n        type === 1 &&\n        <div className='Activity--Items'>\n          <div className='AmountItem'>\n            <div className='Amount'>\n              {/* {details.number} x {details.price} = {details.number * details.price} */}\n              {formatNumber(details.number * details.price)}\n            </div>\n          </div>\n          <div className='Activity--Total'>\n            <div className='Activity--TotalAmountCaption'>总计</div>\n            <div className='Activity--TotalAmount'>\n              {formatNumber(details.total)}\n            </div>\n          </div>\n        </div>\n      }\n    </div>\n  );\n};\n\nexport default ActivityDetails;\n","import React, {useState} from 'react';\nimport {formatDate} from '../util';\n\nimport './index.scss';\nimport ActivityDetails from './activity-details';\n\nconst ActivityTile = ({name, date, amount, type, details}) => {\n  let [isExpanded, setIsExpanded] = useState(false);\n\n  const expandDetails = () => {\n    setIsExpanded(true);\n  };\n\n  const foldItem = () => {\n    setIsExpanded(false);\n  }\n\n  return (\n    <div className='ActivityTile'>\n      <div className='Activity--Item Activity--Header'>\n        <div className='Activity--Caption'>\n          <div className='Activity--Name'>{name}</div>\n          <div className='Activity--Date'>{formatDate(date)}</div>\n        </div>\n        <div className='Activity--AmountArea'>\n          <div className={`Activity--Amount ${type === 1 ? 'Activity--Income' : 'Activity--Outcome'}`}>\n            {amount}\n          </div>\n        </div>\n      </div>\n      {\n        isExpanded && details &&\n        <div className='Activity--Item'>\n          <ActivityDetails type={type} details={details} />\n        </div>\n        // :\n        // <div className='Activity--Item Activity--Amount'>\n        //   <div className='Activity--AmountCaption'>花费金额：</div>\n        //   <div className='Activity--AmountNumber'>{amount}</div>\n        // </div>\n      }\n      <div className='Activity--Item Activity--Toolbar'>\n        {\n          !isExpanded ?\n          <div\n            className='Activity--LearnMore'\n            onClick={expandDetails}>\n            查看明细\n          </div>\n          :\n          <div\n            className='Activity--Fold'\n            onClick={foldItem}>\n            收起\n          </div>\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default ActivityTile;\n","import React, { useState } from 'react';\nimport ActivityTile from './activity-tile';\nimport ACTIVITIES from '../activities-data';\n\nimport './index.scss';\n\n// const TYPE_INCOME = 1; // 收入\n// const TYPE_OUTCOME = 2; // 支出\n\nconst search = window.location.search;\nconst keyContent = search.split('&').some((item) => {\n  let itemArray = item.split('=');\n  let [key, value] = itemArray;\n  return (key === 'keyContent' || key === '?keyContent') && value === 'true'\n});\n\nconst keyContentPush = search.split('&').some((item) => {\n  let itemArray = item.split('=');\n  let [key, value] = itemArray;\n  return (key === 'keyContentPush' || key === '?keyContentPush') && value === 'true'\n});\n\nconst Activities = () => {\n  const [linkClicked, setLinkClicked] = useState(keyContent);\n  const [linkPushed, setLinkPushed] = useState(keyContentPush);\n  let leftAmount = 0;\n  ACTIVITIES.forEach((item) => {\n    if (item.type === 1) {\n      leftAmount += item.amount;\n    } else {\n      leftAmount -= item.amount;\n    }\n  });\n\n  const keyContentHandler = (e) => {\n    setLinkClicked(true);\n  }\n\n  const keyContentPushHandler = (e) => {\n    e.preventDefault();\n    window.history.pushState({}, null, '/?keyContentPush=true');\n    setLinkPushed(true);\n  }\n\n  return (\n    <div className='Activities'>\n      {/* <div className='KeyContent'>\n        {\n          linkClicked &&\n          <div className='KeyContent-Container'>\n            本网站旨在提供中五班账本信息，同时作为项目测试网站。本信息为a链接点击生成。\n          </div>\n        }\n        {\n          linkPushed &&\n          <div className='KeyContentPush-Container'>\n            本网站旨在提供中五班账本信息，同时作为项目测试网站。本信息为pushState生成。\n          </div>\n        }\n        <div>\n          <a href='/?keyContent=true' onClick={keyContentHandler}>\n            <span>查看关键信息</span>\n          </a>\n        </div>\n        <div>\n          <a href='/?keyContentPush=true' onClick={keyContentPushHandler}>\n            <span>查看关键信息2</span>\n          </a>\n        </div>\n      </div> */}\n      <div className='Activities--LeftArea'>\n        <span className='Activities--LeftCaption'>剩余金额：</span>\n        <span className='Activities--LeftAmount'>{leftAmount}</span>\n      </div>\n      <div className='Activities--List'>\n        {\n          ACTIVITIES.map((item) => (\n            <div\n              className='ActivityTile-Item'\n              key={item.id}>\n              <ActivityTile {...item} />\n            </div>\n          ))\n        }\n      </div>\n    </div>\n  );\n};\n\nexport default Activities;\n"],"sourceRoot":""}